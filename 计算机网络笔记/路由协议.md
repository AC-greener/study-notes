## 路由协议

路由器：让数据包正确的到达目标主机。

路由器会根据路由表转发数据包，会根据所收到数据包中的目标ip和路由表比较得出下一个应该接受的路由器。

### 路由的分类

1. 动态路由：让路由协议在运行过程中自动的设置路由控制信息的一种方法

2. 静态路由：实现设置好路由器和主机并将路由信息固定

   静态路由的设置通常由使用者手工操作完成，会给管理者带来很大的负担。

### 路由协议大致分为两类

1. 外部网关协议EGP，负责不同组织机构之间的通信。包含BGP（边界网关协议）
   1. BGP是链接不同自治系统的一种协议	
2. 内部网关协议IGP，负责机构内部的通信。包含RIP（路由信息协议），OSPF（开放式最短路径优先协议）
   1. RIP，是距离路由向量的一种路由协议。
      1. RIP会定期将路由器一直的路由信息向全网广播
      2. RIP希望通过尽可能少的路由器将数据包转发到目的主机。会根据距离向量生成距离向量表，然后抽出较小的路由生成路由控制表
      3. ![1569420020481](C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\1569420020481.png)
   2. OSPF协议，路由器之间交换状态生成网络拓扑信息，然后在根据这个拓扑信息生成路由控制表
      1. OSPF会给每条链路赋予一个权重，会选择一个权重最小的路径作为最终路由。而RIP总是选择路由个数最少的路径。

### 路由算法

1. 距离向量算法：根据距离和方向决定目标主机的一种算法
2. 链路状态算法：是路由器在了解网络整体链接状态的基础上生成路由控制表的一种方法。该方法中，每个路由器必须保持同样的信息才能进行正确的路由选择